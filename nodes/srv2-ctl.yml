classes:
- service.git.client
- system.linux.system.single
- system.openssh.client.workshop
- system.salt.master.single
- system.salt.master.formula.git.graphite
- system.salt.master.formula.git.linux
- system.salt.master.formula.git.openstack_core
- system.salt.master.formula.git.saltstack
- system.salt.master.formula.git.sensu
- system.salt.master.formula.git.heka
- system.reclass.storage.salt
- system.reclass.storage.system.rdo_cluster
- system.peak.defaults
parameters:
  _param:
    reclass_data_repository: "https://github.com/tcpcloud/workshop-salt-model.git"
    reclass_data_revision: master
    reclass_config_master: 10.10.10.200
    single_address: 10.10.10.200
    salt_master_host: 127.0.0.1
    salt_master_base_environment: prd
    salt_formula_branch: master
    rabbitmq_monitor_password: password
    collectd_backend_carbon_host: 10.10.10.200
    collectd_backend_carbon_port: 2013
  linux:
    system:
      name: srv2-ctl
      domain: sjc2.peakhosting.com
      enabled: true
      cluster: 'system'
      environment: prod
      timezone: 'America/LosAngeles'
      utc: true
    network:
      enabled: true
      network_manager: false
      interface:
        eth0:
          type: eth
        eth1:
          type: eth
        bond0:
          enabled: true
          type: bond
          address: 192.168.0.103
          netmask: 255.255.255.0
          gateway: 192.168.0.1
          name_servers:
            - 8.8.8.8
            - 8.8.4.4
          mtu: 1500
          use_in:
            - interface: ${linux:network:interface:eth0}
            - interface: ${linux:network:interface:eth1}
      host:
        node1:
          address: 192.168.10.200
          names:
            - node2.domain.com
            - service2.domain.com
        node2:
          address: 192.168.10.201
          names:
            - node2.domain.com
            - service2.domain.com
      resolv:
        dns:
          - 8.8.4.4
          - 8.8.8.8
        domain: sjc2.peakhosting.com
        search:
          - sjc2.peakhosting.com
          - peakhosting.com
  openssh:
    server:
      enabled: true
      permit_root_login: without-password
      public_key_auth: true
      password_auth: true
      host_auth: true
      banner: Welcome to server!
  salt:
    master:
      accept_policy: open_mode
    minion:
      enabled: true
      master:
        host: master.sjc2.peakhosting.com
  ntp:
    client:
      enabled: true
      strata:
        - 0.north-america.pool.ntp.org
        - 1.north-america.pool.ntp.org
        - 2.north-america.pool.ntp.org